(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5a003ec"],{"575d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginToPay"},[a("article",{staticClass:"box"},[a("div",[a("h4",{staticClass:"title"},[t._v("訂單提交成功! 請選擇支付方式")]),a("h6",{staticClass:"title-h6"},[t._v("訂單金額："),a("span",[t._v("$"+t._s(t.totalPrice))])]),a("div",[a("el-radio-group",{on:{change:t.change},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:"0",disabled:t.disabled}},[a("img",{attrs:{src:t.balanceIcon,alt:""}}),a("div",[a("span",[t._v("余額支付")]),a("br"),a("span",{staticClass:"text"},[t._v("賬戶余額為 "),a("span",{style:{color:"#f66f45"}},[t._v("$"+t._s(t.balance||"0.00"))])])])]),a("el-radio-button",{attrs:{label:"1"}},[a("img",{attrs:{src:t.paymentMethod,alt:""}}),a("div",[a("span",[t._v("在線支付")]),a("br"),a("span",{staticClass:"text"},[a("img",{style:t.imgStyle,attrs:{src:t.imgUrl,alt:""}}),t._v("支持支付寶支付 ")])])])],1)],1),a("div",{staticClass:"btn",on:{click:t.abc}},[t._v("下一步")])]),a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[t._v(t._s(t.paymentAmount))]),a("div",{ref:"payQr",attrs:{id:"qrcodeDom"}})])])])},r=[],o=a("1da1"),c=(a("96cf"),a("a127")),i=a("9f5c"),s=a("d044"),d=a.n(s),l={name:"LoginToPay",created:function(){this.orderId=this.$route.params.id,this.change()},mounted:function(){},components:{QRCode:d.a},data:function(){return{isShow:!1,disabled:"",balance:"",imgStyle:{width:"18px",height:"18px",verticalAlign:"middle",marginRight:"3px"},imgUrl:a("b5ff"),orderId:"",radio:0,balanceIcon:a("e200"),paymentMethod:a("acdb"),totalPrice:"",paymentAmount:""}},methods:{isPaymentMethod:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["b"])();case 2:return a=e.sent,t.balance=a.data.data.balance,e.next=6,Object(c["b"])(t.orderId);case 6:n=e.sent,console.log(n,"訂單詳情"),t.totalPrice=n.data.data.totalPrice,t.balance>=t.totalPrice?Object(c["d"])({id:t.orderId,paymentMethod:t.radio}).then((function(t){console.log(t,"選擇支付方式1")})):(t.disabled=!0,t.radio=1);case 10:case"end":return e.stop()}}),e)})))()},orderPaymentMethodSelection:function(){Object(c["d"])({id:this.orderId,paymentMethod:this.radio}).then((function(t){console.log(t,"選擇支付方式")}))},change:function(){this.isPaymentMethod()},abc:function(){var t=this;Object(c["c"])(this.orderId).then((function(e){console.log(e,"在線地址"),t.isShow=!0,t.$refs.payQr.innerText="",t.paymentAmount=e.data.data.paymentAmount,t.$nextTick((function(){new d.a("qrcodeDom",{width:100,height:100,text:e.data.data.url,render:"canvas",background:"#f0f",foreground:"#ff0"})}))}))}}},u=l,h=(a("c572"),a("2877")),m=Object(h["a"])(u,n,r,!1,null,"66f4dd50",null);e["default"]=m.exports},7142:function(t,e,a){},"9f5c":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"h",(function(){return d})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return h})),a.d(e,"i",(function(){return m}));var n=a("b775"),r=a("4360"),o=function(t){return Object(n["a"])({method:"POST",url:"/api/mall/walletRecharge",data:t,headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},c=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletPaymentMethod/list",headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},i=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletRecharge/payInfo/".concat(t),headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},s=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletPaymentMethod/".concat(t),headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},d=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletRecharge/checkPay/".concat(t),headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},l=function(t){return Object(n["a"])({method:"PUT",url:"/api/mall/walletRecharge/payedApply",data:t,headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},u=function(){return Object(n["a"])({method:"GET",url:"/api/mall/walletBalance/USD",headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},h=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletRecharge/".concat(t),headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})},m=function(t){return Object(n["a"])({method:"GET",url:"/api/mall/walletRecharge/quote",params:t,headers:{Authorization:"Bearer ".concat(r["a"].state.user)}})}},acdb:function(t,e,a){t.exports=a.p+"static/img/paymentMethod.fe6afc3d.png"},c572:function(t,e,a){"use strict";a("7142")},e200:function(t,e,a){t.exports=a.p+"static/img/over2.abbc2434.png"}}]);